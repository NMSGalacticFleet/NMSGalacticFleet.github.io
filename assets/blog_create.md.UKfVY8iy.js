import{d as k,o as g,c as v,j as d,t as A,n as Y,I as b,w as C,_ as B,s as h,h as u,v as X,a5 as U,a7 as Z,F as K,E as ee,e as te,k as E,a2 as ae,a6 as oe,b as se,p as ie,l as ne,a4 as le}from"./chunks/framework.B5VVsMDX.js";import{M as re,c as de,m as ce,a as ue}from"./chunks/compressImage.D2mxjR-M.js";import{S as me,e as F,m as pe,a as he,c as ge}from"./chunks/createFormData.CCQEMxWl.js";import{_ as P}from"./chunks/PicoStyle.vue_vue_type_script_setup_true_lang.BX4HGuFp.js";import"./chunks/useTheme.B83WYtL7.js";const fe={class:"gallery-item"},ve=["href"],be=["alt","src"],ye=["title"],we={class:"button-grid"},ke=k({__name:"GalleryElement",props:{file:{},index:{},url:{},isUsed:{type:Boolean}},emits:["remove","insert"],setup(m){return(o,n)=>(g(),v("div",fe,[d("a",{href:o.url,rel:"noopener noreferrer",target:"_blank"},[d("img",{alt:o.file.name,src:o.url},null,8,be)],8,ve),d("p",{class:Y([{"is-unused":!o.isUsed},"file-name"]),title:o.isUsed?void 0:"Unused"},A(o.file.name),11,ye),b(P,null,{default:C(()=>[d("div",we,[d("button",{class:"primary",title:"Insert",type:"button",onClick:n[0]||(n[0]=c=>o.$emit("insert"))}," ➕ "),d("button",{class:"secondary",title:"Remove",type:"button",onClick:n[1]||(n[1]=c=>o.$emit("remove"))}," ✖ ")])]),_:1})]))}}),_e=B(ke,[["__scopeId","data-v-d8e391bd"]]),$=m=>(ie("data-v-e4d59424"),m=m(),ne(),m),xe=$(()=>d("label",{for:"category"},"Category or username under which the post will be listed:",-1)),Ie=["maxlength"],Ne={key:0},Ue=$(()=>d("p",null,"Uploaded images:",-1)),Ee={class:"gallery"},Fe=k({__name:"BlogBuilder",setup(m){const o=h(`# Hello World

This is content`),n=h([]),c=h(""),y=h(!1),q=u(()=>!o.value||!c.value),M=u(()=>n.value.map(a=>a.name)),_=u(()=>n.value.filter(a=>o.value.includes(a.name))),S=u(()=>O(_.value)),p=h([]),T=atob("aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQ3MjA3NDM3NzM5Mzg2NDg1Ni9zS0FyNmlTN1loRjFEM1diMlIxQWh4QjdRS2ZGMi1kVU8tQ0V3Yzk2cGdjTUVQVEFrTVgxNmJVTUJuREU4QW1GNlo0RAo="),x=h(null);X(n,(a,e)=>{const s=a.filter(i=>!e.includes(i)),r=e.filter(i=>!a.includes(i)).map(i=>e.indexOf(i));r.forEach(i=>URL.revokeObjectURL(p.value[i]));const t=s.map(i=>URL.createObjectURL(i));p.value=p.value.filter((i,w)=>!r.includes(w)),p.value.push(...t)});function j(){const a=document.createElement("a"),e="blog.md",s=new File([o.value],e,{type:"text/plain"}),l=URL.createObjectURL(s);a.href=l,a.download=e,a.click(),URL.revokeObjectURL(l)}const R=u(()=>S.value.map(he)),z=u(()=>ge(o.value,c.value)),L=u(()=>[z.value,...R.value]);function O(a){const e=a.toSorted((t,i)=>i.size-t.size),s=[];let l=[],r=0;for(const t of e)l.length<ce&&r+t.size<ue?(l.push(t),r+=t.size):(s.push(l),l=[t],r=t.size);return l.length&&s.push(l),s}const I=(a,e)=>new File([a],e,{type:a.type});async function V(a){const e={};M.value.forEach(t=>{e[t]??(e[t]=0),e[t]++});function s(t,i=0){const w=t.name.split("."),Q=w.at(-1),J=`${w.slice(0,-1).join("_")}_${i}.${Q}`,f=i?J:t.name,N=e[f]??(e[f]=0);return e[f]++,N?s(t,N):I(t,f)}const l=a.map(t=>I(t,F(t.name))).map(t=>s(t));y.value=!0;const r=[];for(const t of l){const i=await de(t);r.push(i)}y.value=!1,n.value=[...n.value,...r]}const D=()=>{var a;o.value="",n.value=[],(a=x.value)==null||a.reset()};function H(a){n.value=n.value.filter(e=>a!==e)}const G=u(()=>y.value?"Compressing files...":void 0),W=a=>o.value=`${o.value}
![image](/images/blogs/${F(c.value)}/${a.name})
`;return(a,e)=>(g(),v("form",{ref_key:"form",ref:x,onSubmit:e[2]||(e[2]=ae(()=>{},["prevent"]))},[b(P,null,{default:C(()=>[xe,U(d("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),maxlength:E(pe),id:"category",type:"text"},null,8,Ie),[[oe,c.value]])]),_:1}),U(d("div",null,[b(re,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=s=>o.value=s),"editor-id":"pageContent",onOnSave:j,onOnUploadImg:V},null,8,["modelValue"]),n.value.length?(g(),v("div",Ne,[Ue,d("div",Ee,[(g(!0),v(K,null,ee(n.value,(s,l)=>(g(),se(_e,{file:s,index:l,"is-used":_.value.includes(s),key:p.value[l],url:p.value[l],onRemove:r=>H(s),onInsert:r=>W(s)},null,8,["file","index","is-used","url","onRemove","onInsert"]))),128))])])):te("",!0),b(me,{"form-data-array":L.value,"is-busy":y.value,"is-incomplete":q.value,text:G.value,webhook:E(T),onSuccess:D},null,8,["form-data-array","is-busy","is-incomplete","text","webhook"])],512),[[Z,c.value]])],544))}}),Ce=B(Fe,[["__scopeId","data-v-e4d59424"]]),Be=le('<h1 id="create-blog-post" tabindex="-1">Create Blog Post <a class="header-anchor" href="#create-blog-post" aria-label="Permalink to &quot;Create Blog Post&quot;">​</a></h1><h2 id="how-to-create-a-new-post" tabindex="-1">How To Create a New Post <a class="header-anchor" href="#how-to-create-a-new-post" aria-label="Permalink to &quot;How To Create a New Post&quot;">​</a></h2><h3 id="category" tabindex="-1">Category <a class="header-anchor" href="#category" aria-label="Permalink to &quot;Category&quot;">​</a></h3><p>Blog posts are divided into categories, or folders. You have to assign a category to your post first. The category or post itself should have some kind of reference to your name, so people know who made a blog post.</p><p>Blog posts are made from Markdown files. Below is an editor that allows you to write and preview Markdown. The editor will only appear when a category is given.</p><h3 id="content" tabindex="-1">Content <a class="header-anchor" href="#content" aria-label="Permalink to &quot;Content&quot;">​</a></h3><p>Every post should start with a level 1 heading:</p><div class="language-md vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">md</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;"># Heading</span></span></code></pre></div><p>This heading will also be used for the filename.</p><h3 id="images" tabindex="-1">Images <a class="header-anchor" href="#images" aria-label="Permalink to &quot;Images&quot;">​</a></h3><p>Images can be uploaded directly from the editing window. The image button is in the middle of the toolbar. From there, click &quot;Upload Img&quot;.</p><p>Images larger than 2MB will be compressed automatically, this may take some time.</p><p>When they are processed, they will appear in a gallery below the editor.</p><p>If the image name is red, that means that the image is not used in your blog post, and therefore also won&#39;t be transferred when you submit it.</p><p>You can add it to your blog post by clicking the <code>➕</code> button below the image. The <code>✖</code> button removes the image from the gallery.</p><p>Images are represented in Markdown with the following syntax: <code>![alt text](path/to/image.jpg)</code>. It is recommended to edit the alt text to a short description of what can be seen in your image.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Images won&#39;t work in the preview window. However, if the image is in the gallery and has a white filename, you can be sure it will display correctly on the page.</p></div><h3 id="submitting-the-new-post" tabindex="-1">Submitting the New Post <a class="header-anchor" href="#submitting-the-new-post" aria-label="Permalink to &quot;Submitting the New Post&quot;">​</a></h3><p>When you are done with the post, click the submit button. Depending on how many images you added and how fast your internet is, this may take a while.</p><p>The post is not automatically published though, and needs to be uploaded by the website maintainers first. This is usually done within 24h.</p><h2 id="editing-an-existing-blog-post" tabindex="-1">Editing an Existing Blog Post <a class="header-anchor" href="#editing-an-existing-blog-post" aria-label="Permalink to &quot;Editing an Existing Blog Post&quot;">​</a></h2><p>Unfortunately, you cannot easily edit an existing post from here. However, all posts are stored on GitHub and can be edited there.</p><p>A direct link to the blog file is at the bottom of each blog post.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Blog posts should be related to Eisvana in some way.</p><p>Being a citizen of Eisvana also satisfies this requirement.</p><p>This means that if you&#39;re a citizen, you may also write about your projects in other parts of the universe.</p><p>If you aren&#39;t a citizen, the posts should be strictly related to Eisvana and its regions.</p></div><h2 id="editor" tabindex="-1">Editor <a class="header-anchor" href="#editor" aria-label="Permalink to &quot;Editor&quot;">​</a></h2>',25),Re=JSON.parse('{"title":"Create Blog Post","description":"","frontmatter":{"aside":false,"next":false},"headers":[],"relativePath":"blog/create.md","filePath":"blog/create.md","lastUpdated":1771049980000}'),Pe={name:"blog/create.md"},ze=k({...Pe,setup(m){return(o,n)=>(g(),v("div",null,[Be,b(Ce)]))}});export{Re as __pageData,ze as default};
